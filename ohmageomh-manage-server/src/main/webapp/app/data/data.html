<style>
    .container {
        width: 100%;
    }
    .nav-tabs > li.active > a, .nav-tabs > li.active > a:hover, .nav-tabs > li.active > a:focus {
        background-color: #f5f5f5;
    }
</style>

<h3>
    <button class="btn btn-info" ui-sref="dashboard({study: vm.study.id})">
        <span class="glyphicon glyphicon-arrow-left"></span>
    </button> &nbsp <span style="color: #7e7e7e;">Study:</span>  {{vm.study.name}}
</h3>
<hr/>
<uib-tabset type="tabs">
    <uib-tab index="0" heading="Data Points">
        <br/>
        <div class="container-fluid">
            <form name="searchForm" role="form" novalidate ng-submit="vm.loadData()">
                <div class="row">
                    <div class="col-xs-4 no-padding-left">
                        <div class="form-group">
                            <label>Data Type</label>
                            <select class="form-control" name="data_type" ng-model="vm.dataType" ng-options="dataType as dataType.name for dataType in vm.study.dataTypes track by dataType.id">
                                <option value="">Select a data type</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label>Participant</label>
                            <input type="text" ng-model="vm.participant" class="form-control"
                                   uib-typeahead="participant as participant.searchField for participant in vm.participants | filter:$viewValue"
                                   typeahead-min-length="0">

                        </div>
                    </div>
                    <div class="col-xs-4 no-padding-right" style="padding-top: 25px;">
                        <button type="submit" class="btn btn-primary">
                            <span class="glyphicon glyphicon-refresh"></span>
                        <span class="hidden-xs" >
                            Load Data
                        </span>
                        </button>
                    </div>
                </div>
                <jhi-alert></jhi-alert>

            </form>
        </div>

    </uib-tab>
    <uib-tab index="1" heading="Survey Responses">
        <br/>
        <div class="container-fluid">
            <form name="surveyForm" role="form" novalidate ng-submit="vm.loadSurveyData()">
                <div class="row">
                    <div class="col-xs-4 no-padding-left">
                        <div class="form-group">
                            <label>Survey</label>
                            <select class="form-control" name="survey" ng-model="vm.survey" ng-options="survey as survey.name for survey in vm.study.surveys track by survey.id">
                                <option value="">All surveys</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="form-group">
                            <label>Participant</label>
                            <input type="text" ng-model="vm.participant" class="form-control"
                                   uib-typeahead="participant as participant.searchField for participant in vm.participants | filter:$viewValue"
                                   typeahead-min-length="0">
                        </div>
                    </div>
                    <div class="col-xs-4 no-padding-right" style="padding-top: 25px;">
                        <button type="submit" class="btn btn-primary">
                            <span class="glyphicon glyphicon-refresh"></span>
                        <span class="hidden-xs" >
                            Load Survey Responses
                        </span>
                        </button>
                    </div>
                </div>
                <jhi-alert></jhi-alert>

            </form>
        </div>
    </uib-tab>

</uib-tabset>
<div ui-grid="vm.gridOptions" ui-grid-exporter ui-grid-resize-columns ui-grid-pagination style="min-height: 600px;"></div>

